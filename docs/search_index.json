[["intro.html", "Utility-Based Accessibility to Community Resources: An Application of Location-Based Services Data 1 Introduction", " Utility-Based Accessibility to Community Resources: An Application of Location-Based Services Data Gregory Macfarlane BYU gregmacfarlane@byu.edu Emma Stucki BYU stuckiemma@gmail.com 2021-11-13 Abstract Understanding who in a community has access to its resources – parks, libraries, grocery stores, etc. – has profound equity implications, but typical methods to understand access to these resources are limited. Travel time buffers require researchers to assert mode of access as well as an arbitrary distance threshold; further, these methods do not distinguish between destination quality attributes in an effective way. In this research, we present a methodology to develop utility-based accessibility measures for parks, libraries, and grocery stores in Utah County, Utah. The method relies on passive location-based services data to model destination choice to these community resources; the destination choice model utility functions in turn allow us to develop a picture of regional access that is sensitive to: the quality and size of the destination resource; continuous (non-binary) travel impedance by multiple modes; and the sociodemographic attributes of the traveler. We then use this measure to explore equity in access to the specified community resources across income level in Utah County. 1 Introduction Communities provide important resources to the people who live in them. These resources might include physical and economic resources — shared open space, libraries, commercial establishments, etc. — as well as less identifiable resources including a sense of membership and other forms of social capital (Lochner, 1999). Indeed, access to these resources is a primary reason why communities exist (Muth, 1971), as well as a long-motivating objective in transportation infrastructure planning (Hansen, 1959). Given the importance of these community resources, it is not surprising that so much scholarly attention has been paid to examining the spatial and socioeconomic variation in access to them (Handy and Niemeier, 1997; Witten et al., 2003). What is surprising is the simplistic and arbitrary definition of many quantitative resource accessibility measures, in spite of the widespread availability of geographical information systems (GIS) software (Logan et al., 2019) and an understanding that proximity to a resource is not the only consideration in its use (Dong et al., 2006). Individuals do not always shop at the nearest grocery store, nor do they necessarily perceive an 11-minute walk to a park as meaningfully different from a 9-minute walk. A measure of access that can incorporate travel impedance by multiple transportation modes alongside qualitative attributes of the resources in question would provide a better theoretical comparison to what people experience and observe in their own communities. This measure in turn may result in a different understanding of which groups have or do not have good access — and therefore in different policy interventions to resolve the access gap — than more traditionally used measures (Logan et al., 2019; Macfarlane et al., 2020). In this paper, we develop utility-based access measures to parks, grocery stores, and libraries in Utah County, Utah. These measures are based in econometric choice theory relating continuous multimodal travel impedance to attributes of the resource. The utility preferences are estimated on location-based services data obtained from a third-party commercial data aggregator. We then use the model estimates to construct a composite accessibility measure and examine potential discrepancies between this measure and a more common travel-time buffer measurement. The paper begins with a discussion of previous findings relating access to community resources with social, health, and equity benefits. We then describe the methodology employed in this research, which makes use of novel third-party mobile device. A results section describes both the estimated choice models and a comparative analysis; the paper closes with a discussion of several limitations of the approach as well as associated opportunities for future research. References "],["lit-review.html", " 2 Literature 2.1 Developing Access Measures 2.2 Access to Parks, Grocery Stores, and Libraries", " 2 Literature In this study, we have chosen to focus on three specific community resources that have robust histories of accessibility and spatial analysis: parks, grocery stores, and libraries. This section first discusses research developing and classifying various accessibility measures, followed by a discussion of previous attempts to measure access to the resources selected for this analysis. 2.1 Developing Access Measures Accessibility is easily defined as the ability to reach useful destinations (Handy and Niemeier, 1997), but this ease in definition belies a wide array of potential quantitative descriptions. Dong et al. (2006) present a helpful hierarchy of access measures, which we briefly summarize here. Among the simplest measures of access is a so-called isochrone measure, which considers whether a person at position \\(i\\) traveling to a potential destination \\(j\\) is within a particular travel time threshold \\(t^*\\). Using this measure, a person has access to the resource if \\(t_{ij} &lt; t_*\\). Sometimes it is possible to access multiple resources within this threshold, in which case a more continuous score can be defined as \\[\\begin{equation} A_i^{\\mathrm{isochrone}} = \\sum_{j \\in J} \\delta_{ij}, \\mathrm{\\ where\\ } \\delta_{ij} = \\begin{cases} 1, &amp; \\text{for } t_{ij} \\leq t^*\\\\ 0, &amp; \\text{for } t_{ij} &gt; t^* \\end{cases} \\tag{2.1} \\end{equation}\\] Variations of this measure include elements like “number of grocery stores within 10 minutes” or “density of green space within 5 miles.” Strengths of this method are its relative simplicity, but it has three central limitations. First, the threshold \\(t^*\\) must be defined by the researcher for a specific value by a certain travel mode, and different definitions can have different policy outcomes (Logan et al., 2019). Second, the binary nature of the measure belies our understanding of behavior: a four minute and fifty second trip is not functionally different from a five minute and ten second trip. Finally, the measure assumes that all options in the choice set \\(J\\) are of equivalent quality. Extensions to this basic framework relax some of these constricting assumptions. A gravity model accessibility measure \\[\\begin{equation} A_i^{\\mathrm{gravity}} = \\sum_{j \\in J} S_j * f(t_{ij}, \\beta) \\tag{2.2} \\end{equation}\\] considers the “size” of the destination \\(S_j\\) as well as a continuous travel impedance function that decreases the impact of further destinations. The parameters of this impedance function can be calibrated to match the observed trip length distribution of a survey or other data, or a basic distance decay function without parameters can be used. Additionally, if no other information on the “size” or attractiveness of the destinations is available, then \\(S_j = 1\\). Activity-based or utility-based measures rely on location choice theory, where the probability of choosing a destination is a function of the destination’s attributes weighted against the travel impedance to reach it. The mathematical details of this measure are described below in Section 3.1, but the measure relies on understanding how the attributes of a destination \\(X_j\\) affect the utility \\(V_{ij}\\) of a person at origin \\(i\\) selecting that destination \\[\\begin{equation} V_{ij} = X_{ij}\\beta \\tag{2.3} \\end{equation}\\] One potential obstacle to developing utility-based accessibility measures is obtaining sufficient data on which to estimate the utility preference parameters \\(\\beta\\). High-quality household surveys that reveal activity locations are most commonly used for this purpose in general travel demand modeling, but such surveys typically group many infrequent discretionary trips into catch-all categories (Cambridge Systematics, 2012). In the last several years, various commercial data products developed from mobile device and location-based services (LBS) data have entered common use in transportation planning activities. Applications or websites that serve mobile content based on a user’s location will log this location information and sell the data to commercial third-party aggregators. These aggregators in turn will weight and anonymize the data before selling the prepared datasets to transportation planning agencies. These LBS datasets typically contain vehicle or person flows between spatially defined zones, sometimes segmented by inferred transportation mode, time of day, day of week, or imputed trip purpose. These datasets have been shown to accurately reflect visits to recreation areas and other land uses (Monz et al., 2019), and are becoming a common part of transportation planning practice (Naboulsi et al., 2016; Zalewski et al., 2019). In recent years, researchers have begun developing methods to estimate destination choice models (and their related utility parameters) from passive data. Zhu and Ye (2018) developed a method to estimate a destination choice model for taxi trips in Shanghai, relying on the scale of the GPS dataset to estimate a robust model. Macfarlane et al. (2021) use location-based services data for park visitors in Alameda County, California to estimate a destination choice model, and then apply that model to examine utility-based park accessibility and equity. 2.2 Access to Parks, Grocery Stores, and Libraries Parks and other open spaces are frequently understood to provide mental and physical health benefits to the members of the community who use them (Bedimo-Rung et al., 2005), but specific evidence of a link between access and these benefits is somewhat mixed, perhaps due to a wide variety of accessibility measures used in various studies (Bancroft et al., 2015). Most use some form of isochrone-based measure. For example, Neusel Ussery et al. (2016) developed a county-level green space density measure for the entire United States based on the percentage of developed green space in each county. A popular measure called ParkScore (Trust for Public Land, 2019) uses the share of a population that lives within a 10-minute walk of a park to provide a metropolitan-level accessibility score. Some studies have shown that metropolitan areas with a higher ParkScore have better health outcomes (Rigolon et al., 2018), but this finding has not been satisfactorily reproduced for neighborhoods within a metropolitan region. Kaczynski et al. (2016) developed ParkIndex, a measure that gives extra weight to neighborhoods near high-quality parks by incorporating park choice preferences determined from a user survey; some of the usefulness of this measure is limited by only weighting neighborhoods within 1 mile of a park rather than being applied continuously across the region as a utility-based access measure. Macfarlane et al. (2020) constructed a utility-based access to parks measure derived from an earlier park choice survey (Kinnell et al., 2006), and showed a positive relationship between this measure and health outcomes that does not appear to exist when using the ParkScore isochrone access measure. The accessibility of grocery stores to low-income or other disadvantaged communities has been a similarly frequent topic in the academic literature; both in terms of identifying the existence of so-called “food deserts” as well as correlating these deserts with measures of well-being. The U.S. Department of Agriculture (USDA) defines food deserts for their own purposes as low-income census tracts where a certain threshold of people live more than a mile from the nearest grocery store, or a shorter threshold if automobile ownership is low (U.S. Department of Agriculture, 2021). Most other researchers have adopted similar definitions of access. For example, Morland et al. (2002) use the number of grocery stores in the same census tract, Algert et al. (2006) used the share of households within 0.8 kilometers of a store, and Hamidi (2020) uses the USDA measures directly. In conflict with these simplistic definitions are a number of studies suggesting that the nearest grocery store is not necessarily where people — including low-income people — obtain their food (Aggarwal et al., 2014; Clifton, 2004; Recker and Kostyniuk, 1978). Wood and Horner (2016) addressed this shortcoming by considering a gravity-derived accessibility measure, weighting the number of opportunities against a continuous travel time function. Other more recent research has suggested that what matters is not home accessibility as much as location of a store within a time-space construction of a person’s daily activities (Chen and Yeh, 2021; Widener et al., 2015). Libraries provide important educational and social opportunities for community members through computer facilities, reference materials, and special programs (Barclay, 2017; Maxwell, 2008). Libraries can also be used to enhance physical and emotional well-being in a community through public initiatives (Philbin et al., 2019). Though perhaps not as commonly studied as either parks or libraries, a few recent efforts have examined the spatial distribution of libraries and socioeconomic disparities in access. Allen (2019) measured the gap in travel time to the nearest library by car and by public transit, showing that transit-dependent communities were considerably disadvantaged. Cheng et al. (2021) applied travel time thresholds to examine the share of communities in Hong Kong that lacked access. Guo et al. (2017) also measured library access disparities in Hong Kong, using two different travel-time focused measures. None of the measures we could find considered other attributes of the library beyond its proximity, even though these addtional features play a strong role in the library’s role in community building (Barclay, 2017). Certainly there are other community resources that warrant consideration; Ermagun and Tilahun (2020) consider a multiple-resource gravity accessibility measure that includes schools, jobs, and hospitals in addition to the three that have been used here. Churches, museums, or various other facilities might be relevant elements in shaping the quality of life in a community. Regardless of what resources are selected, it is clear that existing accessibility practice considers spatial proximity as paramount, and quality of the destination as secondary. Further, travel times by particular modes are the default measure rather than holistic, multimodal travel impedance measures. Using utility-based measures for both travel impedance and for the accessibility measure might provide a more complete picture of who can and who cannot access community resources in a region. References "],["methods.html", " 3 Methods 3.1 Modeling Framework 3.2 Data", " 3 Methods In this section, we present a method to estimate utility-based access to community resources in Utah County, Utah. 3.1 Modeling Framework In a destination choice modeling framework (Recker and Kostyniuk, 1978), an individual at origin \\(i\\) considering a destination \\(j\\) from a set of possible destinations \\(J\\) has a choice probability \\[\\begin{equation} P_{ij} = \\frac{e^{V_{ij}}}{\\sum_{j&#39; \\in J} e^{V_{ij&#39;}}} \\tag{3.1} \\end{equation}\\] where \\(V_{ij}\\) is a linear-in-parameters function representing the utility of destination \\(j\\). The destination utility consists of two basic elements: \\[\\begin{equation} V_{ij} = \\beta t_{ij} + X_j\\gamma \\tag{3.2} \\end{equation}\\] where \\(t_{ij}\\) is a measure of the travel impedance between \\(i\\) and \\(j\\), \\(X_j\\) is a vector of attributes of destination \\(j\\), and \\(\\beta, \\gamma\\) are estimated parameters relating the travel impedance and the destination attributes to the utility. These parameters may be estimated by maximum likelihood given sufficient observational data. The logarithm of the denominator of the choice probability given in Equation (3.1) is a quantity called the logsum and represents the total value — or accessibility \\(A\\) — of the choice set for individual \\(i\\) (Handy and Niemeier, 1997; Williams, 1977) \\[\\begin{equation} A_i = \\log\\left(\\sum_{j&#39; \\in J} e^{V_{ij&#39;}}\\right) + C \\tag{3.3} \\end{equation}\\] where \\(C\\) is an unknown constant resulting from the fact that the utility represented in Equation (3.2) is not absolute, but rather relative to the utilities of the other options. The difference in logsum values between two different origin points could be compared to determine which location has “better” accessibility to the destinations in question, based on the elements included in Equation (3.2). Accessibility might be improved by lower travel impedance, or by improved amenities, or even by simply having more options available. tar_load(utilities) These other elements include attributes of the community resource relevant to the destination choice problem: the size of the resource, amenities available, the price of goods on sale, etc. Each of these variables has an importance weighted against the travel impedance \\(t_{ij}\\), which might take various forms depending on the data available and the destination resource in question. Simple measures such as the highway travel time or the walk distance might be more or less appropriate for particular resources. Another option commonly used in travel demand models is actually the logsum of a mode choice model with the utility of choosing each mode given by a set of utility equations. In this study we adopt generic mode choice utility equations \\[\\begin{align*} V_{ij\\mathrm{auto}} &amp;= -0.028* (t_{ij\\mathrm{auto}})\\\\ V_{ij\\mathrm{transit}} &amp;= -4 -0.028* (t_{ij\\mathrm{transit}}) -0.056* (wt_{ij}) -0.372*(at_{ij})\\\\ V_{ij\\mathrm{walk}} &amp;= -5 -0.028* (t_{ij\\mathrm{walk}}) -1.12* (d_{ij} | d_{ij} &lt; 1.5) -5.58* (d_{ij} | d_{ij} \\geq 1.5) \\end{align*}\\] where \\(t_{ij}\\) is the travel time in minutes from \\(i\\) to \\(j\\) by each mode (including only in-vehicle time for transit), \\(wt\\) is the transit wait and transfer time, \\(at\\) is the time to access and egress transit by walking, and \\(d_{ij}\\) is the walking distance in miles. The walking distance uses two different utility parameters depending on whether the walking distance is greater than 1.5 miles. The travel impedance logsum between \\(i\\) and \\(j\\) is then \\[\\begin{equation} MCLS_{ij} = \\log\\left(\\exp(V_{ij\\mathrm{auto}}) + \\exp(V_{ij\\mathrm{transit}}) + \\exp(V_{ij\\mathrm{walk}}) \\right) \\tag{3.4} \\end{equation}\\] 3.2 Data Utah County, Utah, is among the fastest-growing urbanized regions in the United States, with formerly agrarian areas and open rangeland being converted to predominately suburban built environments. The population and economic center of the county is in Provo and Orem, home to two large universities (Brigham Young and Utah Valley), but the most rapid development in commercial and residential terms has been in communities north of Utah Lake, between Provo and Salt Lake City to the north. Interstate 15 travels the spine of the county, and a commuter rail system travels multiple times a day between Provo and Salt Lake City with stations in Orem, American Fork, and Lehi. A bus rapid transit (BRT) system connects the universities, two commuter rail stations, and the densest portions of Provo and Orem, and other local bus services operate in other communities in the region. Table 3.1 presents descriptive statistics of the block groups in Utah County obtained from the 2015-2019 American Community Survey (ACS) using the tidycensus package for R (Walker and Herman, 2021). tar_load(acsdata) acs_for_table &lt;- acsdata %&gt;% select( &quot;Density: Households per square kilometer&quot; = density, &quot;Income: Median block group income&quot; = income, &quot;Low Income: Share of households making less than $35k&quot; = lowincome, &quot;High Income: Share of households making more than $125k&quot; = highincome, &quot;Children: Share of households with children under 6&quot; = children, &quot;Black: Share of population who is Black&quot; = black, &quot;Asian: Share of population who is Asian&quot; = asian, &quot;Hispanic: Share of population who is Hispanic*&quot; = hispanic, &quot;White: Share of population who is White&quot; = white) datasummary_skim(acs_for_table, title = &quot;Block Group Summary Statistics&quot;, histogram = !knitr::is_latex_output()) %&gt;% kableExtra::kable_styling(latex_options = c(&quot;scale_down&quot;)) %&gt;% kableExtra::column_spec(1, width = &quot;4cm&quot;) %&gt;% kableExtra::footnote(symbol = &quot;Hispanic indicates Hispanic individuals of all races; non-Hispanic individuals report a single race alone.&quot;) Table 3.1: Block Group Summary Statistics Unique (#) Missing (%) Mean SD Min Median Max Density: Households per square kilometer 340 0 558.3 659.3 0.0 394.2 4741.9 .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle { fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 10.00; } Income: Median block group income 330 2 80309.1 31030.5 20588.0 77099.0 196458.0 .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle { fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 10.00; } Low Income: Share of households making less than $35k 329 1 16.6 13.4 0.0 12.7 70.4 .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle { fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 10.00; } High Income: Share of households making more than $125k 322 1 23.0 17.1 0.0 19.1 92.3 .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle { fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 10.00; } Children: Share of households with children under 6 333 1 24.2 12.3 0.0 22.1 84.6 .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle { fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 10.00; } Black: Share of population who is Black 116 0 0.5 0.9 0.0 0.0 7.4 .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle { fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 10.00; } Asian: Share of population who is Asian 205 0 1.4 2.3 0.0 0.5 20.3 .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle { fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 10.00; } Hispanic: Share of population who is Hispanic* 330 0 11.6 10.6 0.0 8.6 62.1 .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle { fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 10.00; } White: Share of population who is White 339 0 82.6 11.9 32.8 84.3 100.0 .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle { fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-miterlimit: 10.00; } * Hispanic indicates Hispanic individuals of all races; non-Hispanic individuals report a single race alone. tar_load(groceries) tar_load(park_polygons) tar_load(libraries) mapdata &lt;- bind_rows( list(&quot;Groceries&quot; = groceries, &quot;Parks&quot; = park_polygons, &quot;Libraries&quot; = libraries), .id = &quot;LandUse&quot; ) %&gt;% st_centroid() ## Warning in st_centroid.sf(.): st_centroid assumes attributes are constant over ## geometries of x if(knitr::is_latex_output()){ ggplot() + annotation_map_tile(&quot;cartolight&quot;, zoom=11) + coord_sf(crs = st_crs(4326), expand = FALSE) + geom_sf(data = mapdata %&gt;% st_transform(4326), aes(color = `LandUse`), inherit.aes = FALSE, alpha = 0.5) + scale_color_manual(&quot;Resource Type&quot;, values = dj1[c(1, 5, 3)]) + theme(axis.line = element_line(color = NA), axis.title.x=element_blank(), axis.text.x=element_blank(), axis.ticks.x=element_blank(), axis.title.y=element_blank(), axis.text.y=element_blank(), axis.ticks.y=element_blank(), ) } else { polys &lt;- mapdata %&gt;% st_transform(4326) %&gt;% filter(st_is(., &quot;MULTIPOLYGON&quot;)) polypal &lt;- colorFactor(&quot;Dark2&quot;, domain = polys$LandUse) pnts &lt;- mapdata %&gt;% st_transform(4326) %&gt;% filter(!st_is(., &quot;MULTIPOINT&quot;)) pntspal &lt;- colorFactor(&quot;Dark2&quot;,domain = pnts$LandUse) leaflet(polys) %&gt;% addProviderTiles(providers$Esri.WorldGrayCanvas) %&gt;% addPolygons(color = ~polypal(LandUse)) %&gt;% addCircles(data = pnts, color = ~pntspal(pnts$LandUse)) } Figure 3.1: Community Resources in Utah County 3.2.1 Resource Data Figure 3.1 shows the locations of three types of community resources in Utah County: parks, grocery stores, and libraries. For each resource, and initial list of resources and elementary attributes was obtained by executing a relevant query to OpenStreetMap (OSM). Public parks and their attributes retrieved from OSM were verified and corrected using aerial imagery and some site visits. The attributes included the size of the park in acres, whether the park includes a playground, and whether the park includes facilities for volleyball, basketball, and tennis. The constructed dataset includes 582 attributed parks. Grocery stores were retrieved from OSM and validated using internet resources and site visits. The complete Nutritional Environment Measures Survey (NEMS-S) (Glanz et al., 2007) was collected for each store, but this preliminary analysis only includes cursory information on the stores including whether the store is a convenience store or some other non-traditional grocery, whether the store includes a pharmacy or other non-food merchandise, and the number of registers as a measure of the store’s size. The constructed dataset includes 58 stores. Libraries were retrieved from OSM, and validated using library websites and some site visits. The initial query returned university libraries and other specialty resources; though some of these libraries are open to those outside the university community, these were removed so that the resource list only includes libraries generally catering to the general public. The amenities available include whether the library offers additional classes and programs, and whether the library includes genealogical or family history resources. Other variables discussed in the literature such as the availability of computers and public wi-fi networks were present in every library and therefore cannot be included in the destination utility equations. 3.2.2 Mobile Device Data Macfarlane et al. (2021) present a method for estimating destination choice models from such data, which we repeat in this study. We provided a set of geometric polygons for each park, grocery store, and library to StreetLight Data, Inc., a commercial aggregator. StreetLight Data in turn provided data on the number of mobile devices observed in each polygon grouped by the inferred residence block group of of those devices during summer and fall 2019. We then created a simulated destination choice estimation dataset for each community resource by sampling 10,000 block group - resource “trips” from the StreetLight dataset. This created a “chosen” alternative; we then sampled ten additional resources at random (each simulated trip was paired with a different sample) to serve as the non-chosen alternatives. Random sampling of alternatives is a common practice that results in unbiased estimates, though the standard errors of the estimates might be larger than could be obtained through a more carefully designed sampling scheme (Train, 2009). 3.2.3 Travel Times Once the choice, alternatives, and attributes of the alternatives have been defined, the last element of the choice utility is the travel impedance between each block group and each resource. Using the otpr R interface (Marcus Young, 2020) to OpenTripPlanner, we estimated the highway drive travel time, the walking route time, and the transit travel time for trips departing on October 1, 2021 at 8 AM. The time and date are most relevant for the transit path builder in OpenTripPlanner, which uses detailed transit path information stored in the Utah Transit Authority GTFS feed file for Fall 2021. The transit path contains separate measures of the total travel time, the time in the transit vehicle, transfer time, and access / egress time, allowing us full use of the mode choice utility equations and resulting logsum described in Equation (3.4). For groceries and libraries, we queried from OpenTripPlanner the shortest time path on each mode from the population-weighted block group centroid to the centroid of the grocery store or library centroid. Because some parks in the dataset can be relatively large and the centroid might be far from the park access or use point, we instead sampled points along the boundary of the park polygon, and queried the shortest time path by each mode to the nearest boundary point. References "],["results.html", " 4 Results 4.1 Destination Choice Models 4.2 Accessibilities", " 4 Results 4.1 Destination Choice Models Using the simulated trip choices assembled from the location-based services data, we estimate destination choice models with the mlogit package for R (Croissant, 2020; R Core Team, 2021). tar_load(park_models) park_map = c( &quot;duration_CAR&quot; = &quot;Drive time&quot;, &quot;mclogsum&quot; = &quot;Mode Choice Logsum&quot;, &quot;yj_acres&quot; = &quot;log(Acres)&quot;, &quot;playgroundTRUE&quot; = &quot;Playground&quot;, &quot;splashpadTRUE&quot; = &quot;Splashpad&quot;, &quot;volleyballTRUE&quot; = &quot;Volleyball&quot;, &quot;basketballTRUE&quot; = &quot;Basketball&quot;, &quot;tennisTRUE&quot; = &quot;Tennis&quot; ) ls_v_attr &lt;- lrtest(park_models$Attributes, park_models$`All - Logsum`) ls_v_car &lt;- horowitz_lrtest(park_models$`All - Logsum`, park_models$`All - Car`) ## Test statistic value: -2.33811992187784 modelsummary(park_models, estimate = &quot;{estimate}({statistic}){stars}&quot;, title = &quot;Park Destination Choice Utilities&quot;, stars = c(&#39;*&#39; = .05, &#39;**&#39; = .01), coef_map = park_map, gof_map = gm, statistic = NULL, note = &quot;t-statistics in parentheses. * p &lt; 0.5, ** p &lt; 0.1&quot;) %&gt;% kable_styling(latex_options = c(&quot;scale_down&quot;)) Table 4.1: Park Destination Choice Utilities Car MCLS Attributes All - Car All - Logsum Drive time -0.215(-95.949)** -0.209(-69.212)** Mode Choice Logsum 7.678(95.958)** 7.450(69.216)** log(Acres) 1.308(77.120)** 1.300(46.869)** 1.301(46.858)** Playground 4.567(33.939)** 4.476(30.127)** 4.477(30.118)** Volleyball -0.369(-9.580)** -0.663(-11.065)** -0.664(-11.067)** Basketball -0.669(-15.625)** -0.534(-7.632)** -0.535(-7.642)** Tennis -0.549(-13.065)** -0.884(-14.678)** -0.886(-14.693)** Num.Obs. 8,984 8,984 8,984 8,984 8,984 Log Likelihood -9,288.8 -9,284.7 -11,822.1 -4,774.9 -4,772.2 McFadden Rho-Sq 0.569 0.569 0.451 0.778 0.778 t-statistics in parentheses. * p &lt; 0.5, ** p &lt; 0.1 Table 4.1 presents the model estimation results for five different specifications of park destination choice. The “Car” model includes only the network travel time by car as a predictor of park choice; the “MCLS” model similarly contains only the mode choice logsum as an impedance term. The signs on the coefficient indicate that people are more likely to choose parks with lower car distance or higher multi-modal access, all else equal. The “Attributes” model includes only information on the park attributes including size and amenities. On balance, people appear attracted to larger parks and parks with playgrounds, while somewhat deterred by various sports facilities. The “All” models include both the relevant travel impedance term as well as destination attributes. For most block group-park pairs, the transit and walk travel disutilities are sufficiently high that choosing these travel modes is unlikely. As a result, the mode choice logsum is highly collinear with the car travel time. Nevertheless, there are small differences differences between the models with the different impedance terms. Using a non-nested likelihood statistic test presented by Horowitz (1987), we can reject the null hypothesis that the two “All” models have equivalent likelihood (\\(p\\)-value of 0.00969), and infer that the mode choice logsum is a marginally better estimator of park choice than the vehicle travel time alone. tar_load(grocery_models) ls_v_car_g &lt;- horowitz_lrtest(grocery_models$`All - Logsum`, grocery_models$`All - Car`) ## Test statistic value: -0.572018548183689 d_conv_ratio &lt;- grocery_models$`All - Car`$coefficients[&quot;typeConvenience Store&quot;] / grocery_models$`All - Car`$coefficients[&quot;duration_CAR&quot;] grocery_map = c( &quot;duration_CAR&quot; = &quot;Drive time&quot;, &quot;mclogsum&quot; = &quot;Mode Choice Logsum&quot;, &quot;typeConvenience Store&quot; = &quot;Convenience Store&quot;, &quot;typeOther (Write in a description)&quot; = &quot;Other non-standard&quot;, &quot;pharmacyTRUE&quot; = &quot;Has pharmacy&quot;, &quot;ethnicTRUE&quot; = &quot;Ethnic market&quot;, &quot;merchTRUE&quot; = &quot;Has other merchandise&quot;, &quot;registers&quot; = &quot;Number of registers&quot;, &quot;selfchecko&quot; = &quot;Number of self-checkout&quot; ) modelsummary(grocery_models, estimate = &quot;{estimate}({statistic}){stars}&quot;, statistic = NULL, title = &quot;Grocery Destination Choice Utilities&quot;, stars = c(&#39;*&#39; = .05, &#39;**&#39; = .01), coef_map = grocery_map, gof_map = gm, note = &quot;t-statistics in parentheses. * p &lt; 0.5, ** p &lt; 0.1&quot;) %&gt;% kable_styling(latex_options = c(&quot;scale_down&quot;)) Table 4.2: Grocery Destination Choice Utilities Car MCLS Attributes Size All - Car All - Logsum Drive time -0.206(-90.014)** -0.217(-78.388)** Mode Choice Logsum 7.340(90.019)** 7.733(78.399)** Convenience Store -2.339(-11.310)** -1.600(-7.684)** -1.486(-6.765)** -1.488(-6.773)** Other non-standard -1.894(-14.604)** -1.255(-9.554)** -1.055(-7.487)** -1.056(-7.490)** Has pharmacy 0.616(19.421)** 0.329(8.901)** 0.249(5.488)** 0.249(5.502)** Ethnic market -1.680(-16.846)** -0.997(-9.750)** -0.883(-8.072)** -0.884(-8.078)** Has other merchandise 1.523(48.309)** 0.769(19.144)** 0.881(17.631)** 0.882(17.660)** Number of registers 0.073(42.117)** 0.083(36.312)** 0.083(36.294)** Number of self-checkout 0.031(15.255)** 0.027(10.049)** 0.027(10.041)** Num.Obs. 8,404 8,404 8,404 8,404 8,404 8,404 Log Likelihood -11,861 -11,861.8 -16,898.4 -15,806.6 -8,802.4 -8,802.2 McFadden Rho-Sq 0.411 0.411 0.161 0.216 0.563 0.563 t-statistics in parentheses. * p &lt; 0.5, ** p &lt; 0.1 Table 4.2 presents the model estimation results for the grocery store models. As with the parks models in Table 4.1, the most predictive model contains both a travel impedance term and attributes of the destination grocery store. The number of registers suggests that people prefer larger stores, all else equal; ethnic markets, convenience stores, and other facilities are less preferred while stores with pharmacies and other merchandise (clothes, home goods, etc.) attract visitors. The ratio of the drive time and convenience store coefficients suggests that on average, people are willing to drive 6.86 minutes to reach a store that is not a convenience store. In terms of the travel impedance, there is not a sufficiently large gap in the model likelihoods to reject that the mode choice logsum and the drive time are equivalent predictors of grocery store choice. tar_load(library_models) library_map &lt;- c( &quot;duration_CAR&quot; = &quot;Drive time&quot;, &quot;mclogsum&quot; = &quot;Mode Choice Logsum&quot;, &quot;classesTRUE&quot; = &quot;Offers Classes&quot;, &quot;genealogyTRUE&quot; = &quot;Genealogy Resources&quot; ) ls_v_car_l &lt;- horowitz_lrtest(library_models$`All - Logsum`, library_models$`All - Car`) ## Test statistic value: -1.33038637150938 modelsummary(library_models, estimate = &quot;{estimate}({statistic}){stars}&quot;, title = &quot;Library Destination Choice Utilities&quot;, stars = c(&#39;*&#39; = .05, &#39;**&#39; = .01), coef_map = library_map, gof_map = gm, statistic = NULL, note = &quot;t-statistics in parentheses. * p &lt; 0.5, ** p &lt; 0.1&quot;) %&gt;% kable_styling(latex_options = c(&quot;scale_down&quot;)) Table 4.3: Library Destination Choice Utilities Car MCLS Attributes All - Car All - Logsum Drive time -0.233(-95.379)** -0.232(-89.281)** Mode Choice Logsum 8.306(95.361)** 8.270(89.266)** Offers Classes 1.318(44.405)** 1.258(23.053)** 1.257(23.033)** Genealogy Resources -1.127(-44.021)** -1.024(-25.610)** -1.024(-25.601)** Num.Obs. 9,816 9,816 9,816 9,816 9,816 Log Likelihood -10,841.9 -10,840.3 -21,944.4 -10,322.5 -10,321.7 McFadden Rho-Sq 0.539 0.539 0.068 0.561 0.561 t-statistics in parentheses. * p &lt; 0.5, ** p &lt; 0.1 Table 4.3 presents the model estimation results for the library destination choice models. As with parks and grocery stores, both travel impedance and destination attributes are significant predictors of library choice. In this case, however, the library attributes provide very little predictive power of library choice. This is perhaps because virtually all libraries in the dataset offer the same set of basic amenities, but also because each municipality in Utah County tends to operate its own library rather than having a system of interconnected library branches as might be typical in larger cities or other regions. Additionally, there is no significant difference between the prediction power of the mode choice logsum versus the car travel time. 4.2 Accessibilities Using the results of the “All - Logsum” models estimated for each community resource in the last section, we calculate the total utility-based accessibility measure for each block group in Utah County. For comparison to a more traditional measure, we also created buffer-based accessibility terms where a block group has “access” to a grocery store if there is one within a 5-minute drive, a park if there is one within a five-minute walk, and a library if there is one within a ten-minute drive. tar_load(access_bin) tar_load(access_ls) amdata &lt;- bind_rows( access_ls %&gt;% st_transform(4326) %&gt;% select(-total) %&gt;% mutate(method = &quot;Logsum&quot;), access_bin %&gt;% st_transform(4326) %&gt;% select(!contains(&quot;_min&quot;)) %&gt;% mutate(method = &quot;Buffer&quot;) ) ggplot() + annotation_map_tile(&quot;cartolight&quot;, zoom=11) + coord_sf(crs = st_crs(3426), expand = FALSE) + geom_sf(data = amdata %&gt;% filter(method == &quot;Buffer&quot;), aes(color = as.logical(grocery)), inherit.aes = FALSE, alpha = 0.7) + scale_color_manual(&quot;$&lt;5$ minute drive&quot;, values = dj1[c(5, 3)]) + new_scale_color() + geom_sf(data = amdata %&gt;% filter(method == &quot;Logsum&quot;), aes(color = grocery), inherit.aes = FALSE, alpha = 0.7) + scale_color_viridis_c(&quot;Logsum&quot;, option = &quot;magma&quot;) + facet_wrap(~method) + theme(axis.line = element_line(color = NA), axis.title.x=element_blank(), axis.text.x=element_blank(), axis.ticks.x=element_blank(), axis.title.y=element_blank(), axis.text.y=element_blank(), axis.ticks.y=element_blank()) ## Coordinate system already present. Adding new coordinate system, which will replace the existing one. ## Zoom: 11 ## Zoom: 11 Figure 4.1: Spatial comparison of grocery access buffer versus logsum. Figure 4.1 spatially presents the difference between the buffer-based measure and the logsum-based measure. The two measures largely show the same basic shape: block groups along the spine of the county tend to have binary access in the buffer and also have a higher logsum value. The difference is at the margins, where the discontinuity of the buffer measure is replaced by a smoother access surface, more spatially reflective of what people are likely to experience. left_join( access_bin %&gt;% st_set_geometry(NULL) %&gt;% rename(buffer_grocery = grocery, buffer_library = library, buffer_park = park, minutes_grocery = grocery_min, minutes_library = library_min, minutes_park = park_min), access_ls %&gt;% st_set_geometry(NULL) %&gt;% select(-total) %&gt;% rename(logsum_grocery = grocery, logsum_library = library, logsum_park = park), by = c(&quot;id&quot;, &quot;POPULATION&quot;) ) %&gt;% pivot_longer(cols = minutes_grocery:logsum_park) %&gt;% separate(name, c(&quot;measure&quot;, &quot;resource&quot;)) %&gt;% pivot_wider(names_from = measure, values_from = value) %&gt;% mutate(buffer = as.logical(buffer)) %&gt;% ggplot(aes(x = minutes, y = logsum, color = resource)) + geom_point(pch = 21, alpha = 0.7, stroke = 1) + stat_smooth(method = &quot;lm&quot;, show.legend = FALSE, ribbon = FALSE) + annotate(&quot;segment&quot;, x = 5, xend = 5, y = 0, yend = 4, lty = &quot;dashed&quot;, lwd = 2, color = dj1[1]) + annotate(&quot;segment&quot;, x =10, xend =10, y =-3, yend = 0, lty = &quot;dashed&quot;, lwd = 2, color = dj1[5]) + annotate(&quot;segment&quot;, x = 5, xend = 5, y = 6, yend = 12, lty = &quot;dashed&quot;, lwd = 2, color = dj1[3]) + scale_color_manual(&quot;Resource&quot;, values = dj1[c(1, 5, 3)]) + scale_fill_manual(&quot;Within buffer&quot;, values = c(&quot;white&quot;, &quot;grey&quot;)) + ylab(&quot;Accessibility Logsum&quot;) + xlab(&quot;Travel Time in Minutes&quot;) ## Warning: Ignoring unknown parameters: ribbon ## `geom_smooth()` using formula &#39;y ~ x&#39; ## Warning: Removed 64 rows containing non-finite values (stat_smooth). ## Warning: Removed 64 rows containing missing values (geom_point). Figure 4.2: Relationship between travel time, and logsum access value for block groups in Utah County. Travel-time based buffers shown as dashed lines. The potential for the buffer measure to oversimplify the accessiblity problem is further illustrated in Figure 4.2. This figure shows the utility-based accessibility logsum calculated using the mode choice logsum as an impedance term against the travel time in minutes (drive time for grocery stores and libraries; walk time for parks), for block groups in the study region. It is clear that for all three land uses, lower travel time is significantly correlated with higher accessibility. But for block groups with with equivalent travel time to a particular community resource, the accessibility logsum value varies substantially. Even for block groups along the buffer — where a small change in travel time might place a block within or without the buffer — the variance in accessibility logsum appears to be almost as large as the variance as the variance in the travel time. This variance in accessiblity logsum might be due to a travel time differential between drive, walk, and transit modes captured in the mode choice logsum, or it could also be because the resources available near the set of block groups have substantial variance in their amenities. Being near a single poor-quality grocery store is not the same thing as being near multiple high-quality groceries, and the logsum value can capture this variance in its construction. no_buffer &lt;- access_bin %&gt;% left_join(acsdata, by = c(&quot;id&quot; = &quot;geoid&quot;)) %&gt;% filter(!grocery, !park,!library) %&gt;% st_set_geometry(NULL) no_logsum &lt;- access_ls %&gt;% left_join(acsdata, by = c(&quot;id&quot; = &quot;geoid&quot;)) %&gt;% filter(grocery &lt; mean(grocery, na.rm = TRUE), park &lt; mean(park, na.rm = TRUE), library &lt; mean(library, na.rm = TRUE)) %&gt;% st_set_geometry(NULL) # calculate number of households in each group, and number of low-income nhh_nobuf &lt;- sum(no_buffer$households) nhh_nols &lt;- sum(no_logsum$households) nhh_nobuflow &lt;- sum(no_buffer$households * 0.01 * no_buffer$lowincome) nhh_nolslow &lt;- sum(no_logsum$households * 0.01 * no_logsum$lowincome) # how many households are in both groups? nhh_both &lt;- inner_join(no_buffer[, c(&quot;id&quot;, &quot;households&quot;, &quot;lowincome&quot;)], no_logsum[, &quot;id&quot;], by = &quot;id&quot;) %&gt;% summarise(n_hh = sum(households), n_lo = sum(households * lowincome * 0.01)) What this distinction between access estimation methods might mean for policy analysis is yet to be determined, and future research is required. In this analysis, we estimate that 26,107 households live in block groups outside the boundary of all three resource buffers: 10-minute drive for a library, 5-minute drive for a grocery store, and 5-minute walk for a park. Of these, 2,385 make less than $35,000 per year. At the same time, only 17,932 households live in block groups that are beneath the regional mean utility-based access to all three resources; that is, they have less-than the regional average access to grocery stores, and to libraries, and to parks. Of these households, 1,633 are similarly low-income. Perhaps more importantly, the overlap between the households in both groups is not very high: only 9,510 households live in block groups with low access determined by both buffers and by accessiblity logsum, 831 of which are low-income households. References "],["limitations-and-future-research.html", " 5 Limitations and Future Research", " 5 Limitations and Future Research The location-based services data reveals the likely home location of devices observed within a geographic polygon, within some measurement error. It cannot tell us whether the device holder actually accomplished the assumed activity; that is, there may be a reason why a device was observed near a library even though the person did not actually patronize the library. Additionally, the method we use to compile the estimation dataset presumes that the choice to make a trip to the community resource has already been made. Though it can suggest how the accessibility of a neighborhood to these resource would improve were transportation impedance decreased or the resources expanded or improved, it cannot tell us how many more people might take advantage of the resource in that case. In this research, all simulated trips were grouped into a single pooled model for analysis. This implies that the effect of amenities and travel impedance on destination choice is similar for all neighborhoods. A segmented model where, for example, low-income block groups and high-income block groups were estimated separately could allow for flexibility in these estimates and reveal differences in preferences among residents of the different neighborhoods. Some neighborhoods might show a particular preference for access utilities by transit, or for specific park amenities. A latent class choice model (Walker and Ben-Akiva, 2002) would go further in potentially informing which demographic variables are meaningful in defining possible data segmentation schemes. A necessary assumption made when constructing the estimation dataset is that people experience access from their home neighborhood. This may not always be true; for instance, people may choose to shop at grocery stores or visit libraries that are near their workplace, or that are between their homes and some other frequent destination. Methods to account for access and destination choices experienced at other points in the day would be a useful and interesting extension. Similarly, we assumed that the distance between a home and a community resource was represented by the distance between the block group centroid and the resource. For some block groups in less dense areas of the county, the error in measured travel time between the block group centroid and the actual home location might be larger than the total travel time. It might be possible to simulate home locations within each block group and use those locations in the travel time calculations. Alternatively, it might be possible to estimate the model using block group data as in this study but apply the model at a more fine resolution (e.g. block) when investigating accessibilities and conducting policy analyses. This paper presents preliminary model estimates using plausible destination choice utility values. Several additional variables might be further explored, particularly in regards to the grocery resources. The NEMS-S survey is a highly detailed picture of the offerings of a particular grocery store, including information on the availability of relatively healthier or fresher foods and their prices. This study was only able to explore a few key size variables, but a deeper investigation into grocery store amenities and offerings preferences — and how they might influence a collective understanding of nutrition access more broadly — is needed. References "],["conclusions.html", " 6 Conclusions", " 6 Conclusions This paper developed accessibility-based measures of accessibility to three types of community resource: parks, grocery stores, and libraries. These metrics were informed by observing trips to specific facilities in mobile device data, allowing the measures to incorporate attributes of the resource as well as attributes of the journey there. The computed measures are fundamentally different from buffer-based measures more commonly used to inform spatial policy analysis. Ultimately, the purpose of any accessibility measure to a community resources is to enable a subsequent analysis of some metric of well-being. Macfarlane et al. (2020) suggest that a utility-based access to parks measure is more predictive of physical health outcomes than a buffer-based measure. Is this true for more community resources? Would using a more subtle or nuanced measure of access to libraries help in understanding a link between community form and social isolation or mental health? A key benefit of this method is that is provides a way to evaluate the benefit of investments in resources against the benefits of investing in the transportation system. Will a community benefit more from a new grocery store nearby, or expanded options at an existing grocery store, or from improving bike or bus connections to that existing store? An examination of this question is left for future research, but this paper presents a method for how this could be approached. References "],["acknowledgements.html", "Acknowledgements", " Acknowledgements The authors are grateful to Alisha Redelfs, Lori Spruance, Kaeli Monahan, and Mali Smith for their help in gathering the grocery store information data. Connor Williams gathered the parks data. Tables and figures in the article are produced using a variety of packages for R (Arel-Bundock, 2021; Dunnington, 2021) References "],["references.html", "References", " References "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
